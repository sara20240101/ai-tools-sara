<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Resource Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script src="data.js"></script>

    <style>
      ::-webkit-scrollbar { width: 8px; }
      ::-webkit-scrollbar-track { background: #09090b; }
      ::-webkit-scrollbar-thumb { background: #27272a; border-radius: 4px; }
      body { font-family: -apple-system, sans-serif; background-color: #000; color: #fff; -webkit-font-smoothing: antialiased; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONS ---
        const LayoutGridIcon = ({ size = 18 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="7" height="7" x="3" y="3" rx="1" /><rect width="7" height="7" x="14" y="3" rx="1" /><rect width="7" height="7" x="14" y="14" rx="1" /><rect width="7" height="7" x="3" y="14" rx="1" /></svg>
        );
        const XIcon = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18" /><path d="m6 6 12 12" /></svg>
        );

        // --- COMPONENTS ---
        const VideoModal = ({ videoId, onClose }) => {
            if (!videoId) return null;
            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4">
                    <div className="absolute inset-0 bg-black/80 backdrop-blur-xl" onClick={onClose} />
                    <div className="relative w-full max-w-5xl aspect-video bg-black rounded-2xl shadow-2xl overflow-hidden border border-white/10">
                        <button onClick={onClose} className="absolute top-4 right-4 z-10 p-2 rounded-full bg-black/50 text-white"><XIcon /></button>
                        <iframe src={`https://www.youtube.com/embed/${videoId}?autoplay=1`} className="w-full h-full" allowFullScreen />
                    </div>
                </div>
            );
        };

        const ResourceCard = ({ data, onClick }) => (
            <div className="group cursor-pointer" onClick={() => onClick(data.id)}>
                <div className="relative aspect-video rounded-[24px] overflow-hidden bg-zinc-900 mb-4 group-hover:-translate-y-2 transition-all duration-300 shadow-xl group-hover:shadow-blue-500/10">
                    <img src={`https://img.youtube.com/vi/${data.id}/maxresdefault.jpg`} className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" />
                    <div className="absolute inset-0 flex items-center justify-center">
                        <div className="w-16 h-12 bg-red-600 rounded-lg flex items-center justify-center opacity-90 group-hover:scale-110 transition-transform">
                            <div className="border-l-[12px] border-l-white border-y-[8px] border-y-transparent ml-1" />
                        </div>
                    </div>
                    <div className="absolute top-4 left-4 bg-black/40 backdrop-blur-md px-3 py-1 rounded-full text-xs flex items-center gap-2">
                        <img src={data.authorImg} className="w-5 h-5 rounded-full" /> {data.authorName}
                    </div>
                </div>
                <div className="flex flex-wrap gap-2 mb-2">
                    {data.tags?.map(t => <span key={t} className="px-2 py-0.5 bg-zinc-800 text-[10px] rounded-full text-zinc-400 uppercase font-bold">{t}</span>)}
                </div>
                <h3 className="text-xl font-bold text-blue-400 group-hover:text-blue-300 transition-colors">{data.title}</h3>
                <p className="text-[10px] uppercase text-zinc-500 font-bold mt-1 tracking-widest">{data.subtitle}</p>
                <p className="text-sm text-zinc-400 mt-2 line-clamp-2 leading-relaxed">{data.desc}</p>
            </div>
        );

        const App = () => {
            const [activeVideoId, setActiveVideoId] = useState(null);
            // 这里读取 data.js 里的变量
            const allData = typeof RESOURCES_DATA !== 'undefined' ? RESOURCES_DATA : [];
            
            const videos = allData.filter(i => i.type === 'video');
            const tools = allData.filter(i => i.type === 'tool');

            return (
                <div className="min-h-screen pb-20">
                    <header className="sticky top-0 z-40 border-b border-white/10 bg-black/70 backdrop-blur-xl">
                        <div className="container mx-auto px-6 h-16 flex items-center gap-3">
                            <div className="w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center"><LayoutGridIcon /></div>
                            <span className="font-bold text-lg">AI Resources</span>
                        </div>
                    </header>

                    <main className="container mx-auto px-6 pt-12">
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-16 mb-24">
                            {videos.map(v => <ResourceCard key={v.id} data={v} onClick={setActiveVideoId} />)}
                        </div>

                        <section>
                            <div className="mb-10 flex items-center gap-4">
                                <h2 className="text-3xl font-bold">AI Tool Box.</h2>
                                <div className="h-px flex-1 bg-gradient-to-r from-white/20 to-transparent" />
                            </div>
                            <div className="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-8">
                                {tools.map(t => (
                                    <a key={t.id} href={t.siteUrl} target="_blank" className="group flex flex-col items-center gap-3">
                                        <div className="aspect-square w-full bg-zinc-800/40 rounded-[22%] flex items-center justify-center group-hover:scale-110 group-hover:bg-zinc-700/50 transition-all duration-300 border border-white/5">
                                            <img src={t.iconUrl} className="w-1/2 h-1/2 object-contain" />
                                        </div>
                                        <span className="text-xs text-zinc-400 group-hover:text-white transition-colors text-center">{t.name}</span>
                                    </a>
                                ))}
                            </div>
                        </section>
                    </main>

                    <VideoModal videoId={activeVideoId} onClose={() => setActiveVideoId(null)} />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
